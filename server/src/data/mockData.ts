import type {
  ControllerProfile,
  FatigueSnapshot,
  SectorRoster,
  ShiftSummary,
  SupervisorAction,
  SupervisorProfile,
} from '../types.js'

export const controllers: ControllerProfile[] = [
  {
    id: 'C_Lama_001',
    name: 'Lama',
    experienceYears: 7,
    yearOfBirth: 1993,
    gender: 'Female',
    healthNotes: 'No chronic conditions. Sensitive to caffeine.',
    active: true,
    sectorId: 'EAST',
    sectorName: 'East Sector',
    shiftGroup: 'East Sector – Morning Rotation',
    rosterRole: 'primary',
    baselineReadiness: 0.91,
    baselineFactors: {
      blinkRate: 16,
      speechRate: 128,
      responseDelay: 0.9,
      toneStability: 0.94,
    },
  },
  {
    id: 'C_Rawan_002',
    name: 'Rawan',
    experienceYears: 5,
    yearOfBirth: 1996,
    gender: 'Female',
    healthNotes: 'Seasonal allergies. Uses blue-light glasses.',
    active: true,
    sectorId: 'CENTRAL',
    sectorName: 'Central Sector',
    shiftGroup: 'Central Sector – Midday Watch',
    rosterRole: 'primary',
    baselineReadiness: 0.88,
    baselineFactors: {
      blinkRate: 18,
      speechRate: 120,
      responseDelay: 1.1,
      toneStability: 0.89,
    },
  },
  {
    id: 'C_Rahaf_003',
    name: 'Rahaf',
    experienceYears: 9,
    yearOfBirth: 1992,
    gender: 'Female',
    healthNotes: 'Prefers standing desk setup.',
    active: true,
    sectorId: 'WEST',
    sectorName: 'West Sector',
    shiftGroup: 'West Sector – Evening Rotation',
    rosterRole: 'primary',
    baselineReadiness: 0.95,
    baselineFactors: {
      blinkRate: 14,
      speechRate: 115,
      responseDelay: 0.8,
      toneStability: 0.97,
    },
  },
  {
    id: 'C_Noura_004',
    name: 'Noura',
    experienceYears: 6,
    yearOfBirth: 1994,
    gender: 'Female',
    healthNotes: 'Certified for East Sector. Completed backup refresher last month.',
    active: true,
    sectorId: 'EAST',
    sectorName: 'East Sector',
    shiftGroup: 'East Sector – Morning Rotation',
    rosterRole: 'backup',
    baselineReadiness: 0.89,
    baselineFactors: {
      blinkRate: 17,
      speechRate: 124,
      responseDelay: 0.95,
      toneStability: 0.9,
    },
  },
  {
    id: 'C_Leena_005',
    name: 'Leena',
    experienceYears: 8,
    yearOfBirth: 1991,
    gender: 'Female',
    healthNotes: 'Former Central Sector lead, serving in reserve role.',
    active: true,
    sectorId: 'CENTRAL',
    sectorName: 'Central Sector',
    shiftGroup: 'Central Sector – Midday Watch',
    rosterRole: 'backup',
    baselineReadiness: 0.9,
    baselineFactors: {
      blinkRate: 16,
      speechRate: 122,
      responseDelay: 1,
      toneStability: 0.91,
    },
  },
  {
    id: 'C_Maha_006',
    name: 'Maha',
    experienceYears: 4,
    yearOfBirth: 1998,
    gender: 'Female',
    healthNotes: 'Completing evening rotation standby certification.',
    active: true,
    sectorId: 'WEST',
    sectorName: 'West Sector',
    shiftGroup: 'West Sector – Evening Rotation',
    rosterRole: 'backup',
    baselineReadiness: 0.87,
    baselineFactors: {
      blinkRate: 18,
      speechRate: 119,
      responseDelay: 1.05,
      toneStability: 0.88,
    },
  },
  {
    id: 'C_Fahad_007',
    name: 'Fahad',
    experienceYears: 10,
    yearOfBirth: 1989,
    gender: 'Male',
    healthNotes: 'North Sector lead controller. Completed winter ops certification.',
    active: true,
    sectorId: 'NORTH',
    sectorName: 'North Sector',
    shiftGroup: 'North Sector – Night Surveillance',
    rosterRole: 'primary',
    baselineReadiness: 0.93,
    baselineFactors: {
      blinkRate: 15,
      speechRate: 118,
      responseDelay: 0.88,
      toneStability: 0.95,
    },
  },
  {
    id: 'C_Saud_008',
    name: 'Saud',
    experienceYears: 6,
    yearOfBirth: 1994,
    gender: 'Male',
    healthNotes: 'North Sector backup. Specializes in long-range radar sequencing.',
    active: true,
    sectorId: 'NORTH',
    sectorName: 'North Sector',
    shiftGroup: 'North Sector – Night Surveillance',
    rosterRole: 'backup',
    baselineReadiness: 0.9,
    baselineFactors: {
      blinkRate: 17,
      speechRate: 121,
      responseDelay: 0.96,
      toneStability: 0.9,
    },
  },
  {
    id: 'C_Khalid_009',
    name: 'Khalid',
    experienceYears: 8,
    yearOfBirth: 1991,
    gender: 'Male',
    healthNotes: 'South Sector primary; proficient in mountainous approach procedures.',
    active: true,
    sectorId: 'SOUTH',
    sectorName: 'South Sector',
    shiftGroup: 'South Sector – Afternoon Patrol',
    rosterRole: 'primary',
    baselineReadiness: 0.92,
    baselineFactors: {
      blinkRate: 16,
      speechRate: 123,
      responseDelay: 0.93,
      toneStability: 0.92,
    },
  },
  {
    id: 'C_Mohammed_010',
    name: 'Mohammed',
    experienceYears: 5,
    yearOfBirth: 1997,
    gender: 'Male',
    healthNotes: 'South Sector backup. Recently rotated from tower operations.',
    active: true,
    sectorId: 'SOUTH',
    sectorName: 'South Sector',
    shiftGroup: 'South Sector – Afternoon Patrol',
    rosterRole: 'backup',
    baselineReadiness: 0.88,
    baselineFactors: {
      blinkRate: 18,
      speechRate: 120,
      responseDelay: 1.02,
      toneStability: 0.89,
    },
  },
]

export const supervisor: SupervisorProfile = {
  id: 'S_Sara_001',
  name: 'Sara',
  password: 'pearl-secure',
}

export const simulationFrames: FatigueSnapshot[][] = [
  [
    {
      controllerId: 'C_Lama_001',
      sectorId: 'EAST',
      timestamp: '2025-11-09T10:30:00Z',
      score: 0.42,
      readinessLevel: 0.9,
      status: 'Monitor',
      factors: [
        { label: 'Blink rate', value: '19/min', trend: 'up' },
        { label: 'Speech rate', value: '132 wpm', trend: 'up' },
        { label: 'Tone stability', value: '0.90', trend: 'down' },
      ],
      recommendation: 'Monitor breathing cadence',
    },
    {
      controllerId: 'C_Rawan_002',
      sectorId: 'CENTRAL',
      timestamp: '2025-11-09T10:30:00Z',
      score: 0.68,
      readinessLevel: 0.74,
      status: 'High Fatigue',
      factors: [
        { label: 'Blink rate', value: '21/min', trend: 'up' },
        { label: 'Yawn count', value: '2 in 5 min', trend: 'up' },
        { label: 'Pause ratio', value: '32%', trend: 'up' },
      ],
      recommendation: 'Suggest 5 min micro-break',
    },
    {
      controllerId: 'C_Rahaf_003',
      sectorId: 'WEST',
      timestamp: '2025-11-09T10:30:00Z',
      score: 0.28,
      readinessLevel: 0.93,
      status: 'Normal',
      factors: [
        { label: 'Blink rate', value: '15/min', trend: 'steady' },
        { label: 'Posture', value: 'Stable', trend: 'steady' },
        { label: 'Response delay', value: '0.8s', trend: 'steady' },
      ],
      recommendation: 'Maintain current rotation',
    },
    {
      controllerId: 'C_Fahad_007',
      sectorId: 'NORTH',
      timestamp: '2025-11-09T10:30:00Z',
      score: 0.35,
      readinessLevel: 0.92,
      status: 'Normal',
      factors: [
        { label: 'Radar focus', value: 'Stable', trend: 'steady' },
        { label: 'Response delay', value: '0.85s', trend: 'steady' },
        { label: 'Tone stability', value: '0.96', trend: 'steady' },
      ],
      recommendation: 'Maintain high-altitude scan cadence',
    },
    {
      controllerId: 'C_Khalid_009',
      sectorId: 'SOUTH',
      timestamp: '2025-11-09T10:30:00Z',
      score: 0.44,
      readinessLevel: 0.88,
      status: 'Monitor',
      factors: [
        { label: 'Blink rate', value: '19/min', trend: 'up' },
        { label: 'Terrain advisory', value: 'Normal', trend: 'steady' },
        { label: 'Speech rate', value: '129 wpm', trend: 'up' },
      ],
      recommendation: 'Schedule micro-stretch after next handoff',
    },
  ],
  [
    {
      controllerId: 'C_Lama_001',
      sectorId: 'EAST',
      timestamp: '2025-11-09T10:35:00Z',
      score: 0.46,
      readinessLevel: 0.88,
      status: 'Monitor',
      factors: [
        { label: 'Blink rate', value: '20/min', trend: 'up' },
        { label: 'Speech rate', value: '135 wpm', trend: 'up' },
        { label: 'Tone stability', value: '0.88', trend: 'down' },
      ],
      recommendation: 'Encourage hydration',
    },
    {
      controllerId: 'C_Rawan_002',
      sectorId: 'CENTRAL',
      timestamp: '2025-11-09T10:35:00Z',
      score: 0.73,
      readinessLevel: 0.7,
      status: 'High Fatigue',
      factors: [
        { label: 'Blink rate', value: '23/min', trend: 'up' },
        { label: 'Pause ratio', value: '37%', trend: 'up' },
        { label: 'Tone stability', value: '0.71', trend: 'down' },
      ],
      recommendation: 'Trigger break alert',
    },
    {
      controllerId: 'C_Rahaf_003',
      sectorId: 'WEST',
      timestamp: '2025-11-09T10:35:00Z',
      score: 0.32,
      readinessLevel: 0.92,
      status: 'Normal',
      factors: [
        { label: 'Blink rate', value: '14/min', trend: 'steady' },
        { label: 'Voice tone', value: 'Calm', trend: 'steady' },
        { label: 'Response delay', value: '0.9s', trend: 'steady' },
      ],
      recommendation: 'Ready to assist',
    },
    {
      controllerId: 'C_Fahad_007',
      sectorId: 'NORTH',
      timestamp: '2025-11-09T10:35:00Z',
      score: 0.37,
      readinessLevel: 0.91,
      status: 'Normal',
      factors: [
        { label: 'Radar focus', value: 'Stable', trend: 'steady' },
        { label: 'Speech rate', value: '120 wpm', trend: 'steady' },
        { label: 'Tone stability', value: '0.95', trend: 'steady' },
      ],
      recommendation: 'Maintain northern corridor spacing',
    },
    {
      controllerId: 'C_Khalid_009',
      sectorId: 'SOUTH',
      timestamp: '2025-11-09T10:35:00Z',
      score: 0.49,
      readinessLevel: 0.86,
      status: 'Monitor',
      factors: [
        { label: 'Blink rate', value: '20/min', trend: 'up' },
        { label: 'Response delay', value: '0.96s', trend: 'up' },
        { label: 'Tone stability', value: '0.90', trend: 'down' },
      ],
      recommendation: 'Coordinate with backup for potential handover',
    },
  ],
  [
    {
      controllerId: 'C_Lama_001',
      sectorId: 'EAST',
      timestamp: '2025-11-09T10:40:00Z',
      score: 0.39,
      readinessLevel: 0.9,
      status: 'Monitor',
      factors: [
        { label: 'Blink rate', value: '18/min', trend: 'down' },
        { label: 'Speech rate', value: '129 wpm', trend: 'down' },
        { label: 'Tone stability', value: '0.92', trend: 'up' },
      ],
      recommendation: 'Stable after advisory',
    },
    {
      controllerId: 'C_Rawan_002',
      sectorId: 'CENTRAL',
      timestamp: '2025-11-09T10:40:00Z',
      score: 0.70,
      readinessLevel: 0.75,
      status: 'High Fatigue',
      factors: [
        { label: 'Blink rate', value: '22/min', trend: 'up' },
        { label: 'Yawns', value: '2 in 5 min', trend: 'up' },
        { label: 'Pause ratio', value: '35%', trend: 'up' },
      ],
      recommendation: 'Suggest immediate break',
    },
    {
      controllerId: 'C_Rahaf_003',
      sectorId: 'WEST',
      timestamp: '2025-11-09T10:40:00Z',
      score: 0.29,
      readinessLevel: 0.94,
      status: 'Normal',
      factors: [
        { label: 'Blink rate', value: '15/min', trend: 'steady' },
        { label: 'Posture', value: 'Stable', trend: 'steady' },
        { label: 'Speech rate', value: '116 wpm', trend: 'steady' },
      ],
      recommendation: 'Standing by',
    },
    {
      controllerId: 'C_Fahad_007',
      sectorId: 'NORTH',
      timestamp: '2025-11-09T10:40:00Z',
      score: 0.34,
      readinessLevel: 0.93,
      status: 'Normal',
      factors: [
        { label: 'Radar focus', value: 'Stable', trend: 'steady' },
        { label: 'Response delay', value: '0.84s', trend: 'down' },
        { label: 'Tone stability', value: '0.97', trend: 'up' },
      ],
      recommendation: 'Continue monitoring northern traffic flow',
    },
    {
      controllerId: 'C_Khalid_009',
      sectorId: 'SOUTH',
      timestamp: '2025-11-09T10:40:00Z',
      score: 0.41,
      readinessLevel: 0.89,
      status: 'Monitor',
      factors: [
        { label: 'Blink rate', value: '18/min', trend: 'down' },
        { label: 'Speech rate', value: '125 wpm', trend: 'down' },
        { label: 'Tone stability', value: '0.92', trend: 'up' },
      ],
      recommendation: 'Log terrain briefing after current sequence',
    },
  ],
]

export const shiftSummaries: ShiftSummary[] = [
  {
    controllerId: 'C_Lama_001',
    shiftDate: '2025-11-08',
    preShiftReadiness: 0.92,
    peakFatigue: 0.58,
    postShiftDelta: 0.25,
    notes: 'Handled high-traffic window with short break.',
  },
  {
    controllerId: 'C_Rawan_002',
    shiftDate: '2025-11-08',
    preShiftReadiness: 0.89,
    peakFatigue: 0.76,
    postShiftDelta: 0.31,
    notes: 'Night shift extension. Recommended schedule rotation.',
  },
  {
    controllerId: 'C_Rahaf_003',
    shiftDate: '2025-11-08',
    preShiftReadiness: 0.94,
    peakFatigue: 0.45,
    postShiftDelta: 0.14,
  },
  {
    controllerId: 'C_Fahad_007',
    shiftDate: '2025-11-08',
    preShiftReadiness: 0.95,
    peakFatigue: 0.52,
    postShiftDelta: 0.18,
    notes: 'Handled night surge with military exercises. Backup notified but not deployed.',
  },
  {
    controllerId: 'C_Khalid_009',
    shiftDate: '2025-11-08',
    preShiftReadiness: 0.9,
    peakFatigue: 0.6,
    postShiftDelta: 0.2,
    notes: 'Extended mountain approach sequence. Recommended 10-minute stretch protocol.',
  },
]

export const supervisorActions: SupervisorAction[] = [
  {
    id: 'A-001',
    controllerId: 'C_Rawan_002',
    action: 'suggest_break',
    message: 'Triggered 5-min micro-break for Rawan',
    createdAt: '2025-11-09T10:36:00Z',
  },
  {
    id: 'A-002',
    controllerId: 'C_Lama_001',
    action: 'monitor',
    message: 'Monitoring Lama during high workload window',
    createdAt: '2025-11-09T10:33:00Z',
  },
]

type SectorRosterConfig = {
  id: string
  name: string
  shiftGroup: string
  description: string
  primaryIds: string[]
  backupIds: string[]
}

const sectorConfigs: SectorRosterConfig[] = [
  {
    id: 'EAST',
    name: 'East Sector',
    shiftGroup: 'East Sector – Morning Rotation',
    description: 'Handles arrivals from the coastal corridor and runway 05 sequencing.',
    primaryIds: ['C_Lama_001'],
    backupIds: ['C_Noura_004'],
  },
  {
    id: 'CENTRAL',
    name: 'Central Sector',
    shiftGroup: 'Central Sector – Midday Watch',
    description: 'Coordinates en-route traffic over the city center and handoffs to approach.',
    primaryIds: ['C_Rawan_002'],
    backupIds: ['C_Leena_005'],
  },
  {
    id: 'WEST',
    name: 'West Sector',
    shiftGroup: 'West Sector – Evening Rotation',
    description: 'Supervises departures on runway 30 and westbound airways.',
    primaryIds: ['C_Rahaf_003'],
    backupIds: ['C_Maha_006'],
  },
  {
    id: 'NORTH',
    name: 'North Sector',
    shiftGroup: 'North Sector – Night Surveillance',
    description: 'Monitors high-altitude en-route corridors and northern military training areas.',
    primaryIds: ['C_Fahad_007'],
    backupIds: ['C_Saud_008'],
  },
  {
    id: 'SOUTH',
    name: 'South Sector',
    shiftGroup: 'South Sector – Afternoon Patrol',
    description: 'Covers mountainous approaches, search-and-rescue corridors, and southern exit routes.',
    primaryIds: ['C_Khalid_009'],
    backupIds: ['C_Mohammed_010'],
  },
]

const controllerById = new Map(controllers.map((controller) => [controller.id, controller]))

export const sectors: SectorRoster[] = sectorConfigs.map((sector) => ({
  id: sector.id,
  name: sector.name,
  shiftGroup: sector.shiftGroup,
  description: sector.description,
  primary: sector.primaryIds
    .map((id) => controllerById.get(id))
    .filter((controller): controller is ControllerProfile => Boolean(controller)),
  backup: sector.backupIds
    .map((id) => controllerById.get(id))
    .filter((controller): controller is ControllerProfile => Boolean(controller)),
}))

